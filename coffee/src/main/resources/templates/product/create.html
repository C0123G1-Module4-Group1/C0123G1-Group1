<html xmlns:th="http://www.thymeleaf.org">


<head>
    <title>Create</title>

</head>
<link href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/css/toastr.css" rel="stylesheet" />

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"/>
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"/>
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
      rel="stylesheet"/>
<link rel="stylesheet" href="/form.css">
</head>
<body>

<script type='text/javascript' src='https://code.jquery.com/jquery-1.11.0.js'></script>
<script type='text/javascript'
        src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>

<div class="page-content page-container" id="page-content">
    <div class="padding">
        <div class="row container d-flex justify-content-center">
            <div class="col-lg-5 grid-margin stretch-card">
                <!--form mask starts-->
                <div class="card" style="margin-left: 30%;margin-top: 20%">
                    <div class="card-body">
                        <h4 class="card-title">Thêm Mới Bài Hát</h4>
                        <form class="forms-sample" th:action="@{/createProduct}" method="post"
                              th:object="${productDto}"  enctype="multipart/form-data"  >
<!--                            enctype="multipart/form-data"-->
                            <div class="form-group row">
                                <div class="form-group ">
                                    <label>Tên sản phẩm</label>
                                    <input type="text" class="form-control" th:field="*{name}">
                                    <!--                  <p style="color: red" th:if="${#fields.hasErrors('nameSong')}"-->
                                    <!--                     th:errors="*{nameSong}"></p>-->
                                </div>
                                <div class="form-group ">
                                    <label>Giá tiền</label>
                                    <input type="text" class="form-control" th:field="*{price}">
                                    <!--                  <p style="color: red" th:if="${#fields.hasErrors('artistName')}"-->
                                    <!--                     th:errors="*{artistName}"></p>-->
                                </div>

                                <div class="form-outline ">
                                    <label>Loại sản phẩm</label>
                                    <select style="border: 1px solid #CCCCCC" class="form-control" th:field="*{typeProduct}">
                                        <option th:each="typePage :${typePage}"
                                                th:text="${typePage.typeName}"
                                                th:value="${typePage.id}">
                                        </option>
                                    </select>
                                </div>
                                <label>Kích cỡ ly</label>
                                <div class="form-outline ">
                                    <select style="border: 1px solid #CCCCCC" class="form-control" th:field="*{sizeProduct}">
                                        <option th:each="sizePage:${sizePage}"
                                                th:text="${sizePage.size}"
                                                th:value="${sizePage.id}">
                                        </option>
                                    </select>
                                    <!--            <label class="form-label"> Author</label>-->
                                </div>

                                <div class="form-outline">
                                    <label >Hình ảnh</label>
                                    <input name="image" type="file" id="imageFile" th:field="*{image}" onchange="chooseFile(this)"
                                        class=" form-control-file" style="border: 1px solid#cccccc" required accept="image/gif,image/jpeg,image/png" />

                                </div>

<!--                                <div class="form-group">-->
<!--                                    <label>Tiền tệ</label>-->
<!--                                    <input id="nfo" type="text" class="form-control" th:field="*{currency}">-->
<!--                                </div>-->
                                <div class="form-group">
                                    <label>Mô toả</label>
                                    <textarea  type="text" class="form-control" th:field="*{describes}"></textarea>
                                </div>
                                <div style="margin-left: 30%;padding: 2%"> <img style=" border-style: none;width:40%; "   id="image"  ></div>
                            </div>
                            <br>
                            <button type="submit" class="btn btn-dark btn-block mb-4">Thêm mới sản phẩm</button>
                        </form>

                    </div>
                </div>
                <!--form mask ends-->
            </div>

        </div>
    </div>
    <!--form mask ends-->
</div>


<!-- Jumbotron -->
</section>
    <script>
        function chooseFile(fileInput){
        if (fileInput.files && fileInput.files[0]){
        let  reader=new FileReader();
        reader.onload=function (e) {
            $('#image').attr('src',e.target.result);
    }
        reader.readAsDataURL(fileInput.files[0]);
    }

    }
</script>

<!-- Section: Design Block -->
<!-- Section: Design Block -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>

<!--<button id="btnInfo">Info</button>-->
<!--<button id="btnSuccess">Success</button>-->
<!--<button id="btnError">Error</button>-->
<!--<button id="btnWarning">Warning</button>-->

<!-- jquery -->
<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<!-- toastr -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.1/js/toastr.js"></script>

core script
<script type="text/javascript">
    // consts
    const btnInfo = document.getElementById('btnInfo');
    const btnSuccess = document.getElementById('btnSuccess');
    const btnError = document.getElementById('btnError');
    const btnWarning = document.getElementById('btnWarning');

    // Event Listeners
    btnInfo.addEventListener('click', displayInfoToaster);
    btnSuccess.addEventListener('click', displaySuccessToaster);
    btnError.addEventListener('click', displayErrorToaster);
    btnWarning.addEventListener('click', displayWarningToaster);

    // functions
    function displayInfoToaster() {
        toastr.options.timeOut = 1500; // 1.5s
        toastr.info('info messages');
    }

    function displaySuccessToaster() {
        toastr.options.timeOut = 1500; // 1.5s
        toastr.success('Success messages');
    }

    function displayErrorToaster() {
        toastr.options.timeOut = 1500; // 1.5s
        toastr.error('errors messages');
        toastr.innerHTML='  <p style="color: red" th:if="${#fields.hasErrors(\'musicType\')}"\n' +
            '                     th:errors="*{musicType}"></p>';
    }

    function displayWarningToaster() {
        toastr.options.timeOut = 1500; // 1.5s
        toastr.warning('warning messages');

    }
</script>


<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"
></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</script>

</body>
</html>
