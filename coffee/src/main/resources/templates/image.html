<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Create</title>

</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"/>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
      rel="stylesheet"/>
<!-- MDB -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
      rel="stylesheet"/>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<body>
<section class="my-5">
  <div class="container">
    <div class="row">
      <div class="col-md-8 mx-auto">
        <h2>Upload Image Example</h2>
        <p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>
        <form method="post" th:action="@{/upload}" enctype="multipart/form-data">
          <div class="form-group">
            <input type="file" name="image" accept="image/*" class="form-control-file">
          </div>
<!--          <button type="submit" class="btn btn-primary">Upload image</button>-->
        </form>
<!--        <img th:if="${msg != null}" th:text="${msg}">-->
      </div>
    </div>
  </div>
</section>


<div class="form-outline mb-4">
  <input name="" type="file" id="imageFile" onchange="chooseFile(this)"
         class="form-control" style="border: 1px solid#cccccc" required accept="image/gif,image/jpeg,image/png"/>

</div>
<script>
  function chooseFile(fileInput){
    if (fileInput.files && fileInput.files[0]){
      let  reader=new FileReader();
      reader.onload=function (e) {
        $('#image').attr('src',e.target.result);
      }
      reader.readAsDataURL(fileInput.files[0]);
    }
  }
</script>
</body>
</html>